<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>js13kGames A-Frame entries</title>
	<meta name="description" content="A list of A-Frame entries submitted to the js13kGames 2017 competition, used as an example for the MDN articles about Progressive Web Apps.">
	<meta name="author" content="end3r">
	<meta name="theme-color" content="#B12A34">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:image" content="icons/icon-512.png">
	<link rel="shortcut icon" href="icon-64.png">
	<link rel="stylesheet" href="style.css">
	<link rel="manifest" href="js13kpwa.webmanifest">
	<script src="data/games.js" defer></script>
	<script src="app.js" defer></script>
</head>
<body>
<header>
	<p><a class="logo" href="http://js13kgames.com"><img src="img/js13kgames.png" alt="js13kGames"></a></p>
</header>
<main>
	<h1>js13kGames A-Frame entries</h1>
	<p class="description">List of games submitted to the <a href="http://js13kgames.com/aframe">A-Frame category</a> in the <a href="http://2017.js13kgames.com">js13kGames 2017</a> competition. You can <a href="https://github.com/mdn/pwa-examples/blob/master/js13kpwa">fork js13kPWA on GitHub</a> to check its source code.</p>
	<button id="notifications">Request dummy notifications</button>
	<section id="content"></section>
</main>
<footer>
	<button onclick="showAlert()">Alert Button2</button>
	<p>&copy; js13kGames 2012-2018, created and maintained by <a href="http://end3r.com">Andrzej Mazur</a> from <a href="http://enclavegames.com">Enclave Games</a>.</p>
</footer>

<script>
	var sleep=function (time) {
		var startTime=new Date().getTime()+parseInt(time,10);
		while(new Date().getTime()<startTime){};

	}
	function showAlert(){
		sleep(5000);
		if (Notification.permission == "granted") {
			var notification = new Notification("Hi，帅哥：", {
				body: '可以加你为好友吗？',
				icon: './images/icon-1.png'
			});
			var text = document.querySelector('#text');
			notification.onclick = function() {
				text.innerHTML = '张小姐已于' + new Date().toTimeString().split(' ')[0] + '加你为好友！';
				notification.close();
			};
			setTimeout(function(){
				notification.close();
			},5000);
		}else {
			alert('bye bye');
		}
		// alert("Alert1");

	}
</script>
</body>
</html>